<html lang="en">
  <body>
    <a href="https://192.168.0.64:5173/?access_token=eyJpc3MiOiJodHRwczpcL1wvYWNjb3VudHMuc25hcGNoYXQuY29tXC9hY2NvdW50c1wvb2F1dGgyXC90b2tlbiIsInR5cCI6IkpXVCIsImVuYyI6IkExMjhDQkMtSFMyNTYiLCJhbGciOiJkaXIiLCJraWQiOiJhY2Nlc3MtdG9rZW4tYTEyOGNiYy1oczI1Ni4wIn0..u61yw9p3G82U6_SZdOy7Nw.Vr17C0dIA8dMhwJ35QnUfOLv3ZxN1r-KwX5WSCDQofe40e4NYFQoaNDK6lAlU8Pyahjma4JxNgBhKGCtp7hYqceRV02RWIh9ttHYdlTNhb9YOYfgf2W4oyG7xyXkAmc6aWoky4XIAd4APDvytBfxR0HbnQVnKIRjuYCob53yWCGM_iecVLMviGTRaDqjYJ2zHT9UntZg3m2oK6i8WOPDo88t5pr3-XeYHwcX8ARETj-UwQiAb6Oi3aSqkI22kmhe82rW9bZPmjXyMKqZt30EZF4OI4znfZ4JyE0fV9-HZuy6NM5E2o0HEpnb7O0pmbLo1mXUz5VDEhMbfjDi5uXP8lMWFOhIvVGiAcY6LjNZjrKVdZPIS_XLmFFbVQq4KT3Ouyy7o_0ebB38PplgwQXlfFqwL5gozDdULaFvcPnErzCXJSKuY6tIrYWcOmNQ83rkMwb8grVfY1PMsh0k78Rxr3CJ3dBAU9XWG-MguZoTK4qUU5Dw2_iiA7Fcph6OGWEHq4d3C8S2VqAlkAkqy6eTnCS-M2eIzeoy0FBMMadA7EBhlxwXq97h-zLAznRJ0hvpqbzwfBWhyCNYSfRGRx-mhkMelEa0-1UdhS3HJ8lvfNKCQBwi6_tOAwIwbGJjUZFbHyxZfA1qD6JgBpqaYfOE_9F-wXi2i2je2tJ4qmFXLWLmrGKbuLcRRTWLY0Nyl--C5oMFIeu4D9CYffchdSNSz_lMwT-i9rf-5kgtW8Ugt5VW1CW2SiNMCp-3rIOEE1-R7_DfUEF6gVecsWVox4HcxfVZie17Mu2XQ-QZE0fPWN677F_mAArmphPynWPz1ESYiJCt6t45KwV3oPWsATpqcG6NoaGzt30vnnJMFnRrh7h_stv3V47vpHjmszu2dVOQKdOIUP8Oe4ArauN5EjKJHDUNcdbhmvr5XylGesC1MiWT5ZC2ZhT2Po_BVRoZWX42D7spYcq1I2QztslCYsDW8v58rOKETw9uhTPgPBbZtdOvXQ7DHXm3Kt9b3NS4jUEVg4K5qd7lO3awXI8esnVNgw.MN_cicOp36jIECTUTstD3w">Last</a>
    <div id="display_name"></div>
    <img id="bitmoji" />
    <div id="external_id"></div>
    <div id="access_token"></div>
    <hr />
    <div id="my-login-button-target"></div>
    <script>
      window.snapKitInit = function () {
        console.log(window.location.origin)
        var loginButtonIconId = 'my-login-button-target';
        // Mount Login Button
        snap.loginkit.mountButton(loginButtonIconId, {
          clientId: '95539d24-422d-4c65-893f-6765bf5788a3',
          redirectURI: window.location.origin  + '/login.html',
          scopeList: [
            'user.display_name',
            'user.bitmoji.avatar',
            'user.external_id',
            'camkit_lens_push_to_device'
          ],
          handleResponseCallback: function () {

            snap.loginkit.fetchUserInfo().then(
              function (result) {
                console.log('User info:', result.data.me);

                document.getElementById('display_name').innerText = result.data.me.displayName;
                document.getElementById('bitmoji').src = result.data.me.bitmoji.avatar;
                document.getElementById('external_id').src = result.data.me.externalId;
                document.getElementById('access_token').innerHTML = '<a href="/?access_token=' + snap.loginkit.getSharedDataAccessToken() + '">Launch app with Push2Web</a>';

              },
              function (err) {
                console.log(err); // Error
              }
            );
          },
        });
      };

      // Load the SDK asynchronously
      (function (d, s, id) {
        var js,
          sjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = 'https://sdk.snapkit.com/js/v1/login.js';
        sjs.parentNode.insertBefore(js, sjs);
      })(document, 'script', 'loginkit-sdk');
    </script>
  </body>
</html>
