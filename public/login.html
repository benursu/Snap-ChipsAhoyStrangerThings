<html lang="en">
  <body>
    <a href="https://192.168.0.64:5173/?access_token=eyJpc3MiOiJodHRwczpcL1wvYWNjb3VudHMuc25hcGNoYXQuY29tXC9hY2NvdW50c1wvb2F1dGgyXC90b2tlbiIsInR5cCI6IkpXVCIsImVuYyI6IkExMjhDQkMtSFMyNTYiLCJhbGciOiJkaXIiLCJraWQiOiJhY2Nlc3MtdG9rZW4tYTEyOGNiYy1oczI1Ni4wIn0..4QH5SwmTqfis_Hf_r-Sh4g.CXOBRL4BOfiOA36r0dwh46HYfL6HhMTvRYHTSp8erXRTzCxxodXizEKAxxp_5zMwBb7V5Tms3KzCpYDN9Szwi-trpeBksi59eGkTV_R3_ejiEaiaLXoyLUz1qlqz74bmaxA2SRsvEg2ehjcpOYbzZhk29WPE0l7VpENgTOM_F0zEacqCNAN6h9jkeqxMYmCw-0U5T56sAs1wgYDbG-iaglskVYbW1xgN_HcJRwvxt5EIQ1SUdSaAEWYFIIryON-WXvZWrm4mbtbm1HLCIjI7NGkMkcJ4vehCVBzKzR7nGCdGH5EMpRR2JgDtbeVLASnctLrLUZhAPV_V0Bkb-cbMnYaErVW4aDwlNOA2x8IQXl22z6F-l6JkfoKtQiL6shp1HnepTjTHPiBYcKTn5pXx4bPdGbKMJK_7xNfk0l2XNqYgTEakfIN2WVm57Ku5_LMFGjsCUJbqms_0E_VERQMAskK1HnSvmqKdF7GP7G0g9L-N6h8VEUPMxrTG4rV3gB2gc_8G796-P4AYK87t-rEr0DU2QnnX2Ci3gUznuiTXKjGu5oFTRXgeKnJeNE8w6bLVDxYTT99YmWguInZHFHvorhjH-A8JDRqXrcHFA79b2CLwNOS_j0ou1aji0NOD0DFEn6ARzS8_nUQj6aAnuaGsPDqMAGb3PsL218yRdTrwlPAJlkg2i-1Jv-vcJWadD_nDVIK_DDHD3JX5Kjb0FkBMgWPMWQu35pQnrR7KFuJbW9bNS2wRxiWf98-G2lBniYZDrGJFdT0pE5EE1BPv6PkjHqlO1AfNkHLM5g_r8uEYoUm5JrPiev_qjx2kQUWrP7DHRsIRsy8b_kFdp-O5ro3fKGs3SgAACG8IlsKJeV0LoVawIkTszmF2L4nwinsK1PiOJmrc4b4fsYIlIbK9fsyhZr9_zPY7JA0l_mjmpot4JR9DieJ3eC-6yLLFXX7MEH7LsPAgjG9b2W2LIdWNZxJfsMJY95iBimSlxS5vn11TWDwcGEBhveyDvf8IioausGGDFwf5l-h89w8-rC2z1uNQ3Q.P18aSFyQO7hgQjrngE6KZg">Last</a>
    <div id="display_name"></div>
    <img id="bitmoji" />
    <div id="external_id"></div>
    <div id="access_token"></div>
    <hr />
    <div id="my-login-button-target"></div>
    <script>
      window.snapKitInit = function () {
        console.log(window.location.origin)
        var loginButtonIconId = 'my-login-button-target';
        // Mount Login Button
        snap.loginkit.mountButton(loginButtonIconId, {
          clientId: '95539d24-422d-4c65-893f-6765bf5788a3',
          redirectURI: window.location.origin  + '/login.html',
          scopeList: [
            'user.display_name',
            'user.bitmoji.avatar',
            'user.external_id',
            'camkit_lens_push_to_device'
          ],
          handleResponseCallback: function () {

            snap.loginkit.fetchUserInfo().then(
              function (result) {
                console.log('User info:', result.data.me);

                document.getElementById('display_name').innerText = result.data.me.displayName;
                document.getElementById('bitmoji').src = result.data.me.bitmoji.avatar;
                document.getElementById('external_id').src = result.data.me.externalId;
                document.getElementById('access_token').innerHTML = '<a href="/?access_token=' + snap.loginkit.getSharedDataAccessToken() + '">Launch app with Push2Web</a>';

              },
              function (err) {
                console.log(err); // Error
              }
            );
          },
        });
      };

      // Load the SDK asynchronously
      (function (d, s, id) {
        var js,
          sjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = 'https://sdk.snapkit.com/js/v1/login.js';
        sjs.parentNode.insertBefore(js, sjs);
      })(document, 'script', 'loginkit-sdk');
    </script>
  </body>
</html>
